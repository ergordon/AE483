clc; clear;
%% Question 1
%{
O = [0; 3; -4]

R = mat2str([0 1 0; -sind(45) 0 cosd(45); cosd(45) 0 sind(45)])
%}

%% Question 2
%{
o = [1.07404337; -0.13377996; -0.58333145];
R = [-0.13739556 0.47363876 0.86993608; 0.19547625 0.87395848 -0.44495573; -0.97103630 0.10891690 -0.21266314];
v1_in1 = [0.13289285; 0.30748868; -0.97720292];
v1_in0 = [-0.72272441; 0.72952177; 0.11226197];
v2_in1 = [0.76178897; 0.82576299; 0.20027741];


mat2str(R*v2_in1)
%}

%% Question 3
%{
o_6in3 = [0.71285932; 0.93157754; -0.93306846];
R_6in3 = [0.39673023 -0.34084506 -0.85230850; 0.91383021 0.23436739 0.33164178; 0.08671485 -0.91043757 0.40445514];
v_in6 = [0.52874761; 0.02277929; 0.00680844];

mat2str(R_6in3*v_in6)

%}

%% Question 4
%{
o_1in0 = [-0.61554071; 0.59619261; 0.59457714];
R_1in0 = [0.00175859 0.00116518 -0.99999777; -0.84672649 0.53202772 -0.00086913; 0.53202553 0.84672613 0.00192220];
v_01in0 = [-0.65201559; 0.76346073; -0.54494108];
w_01in1 = [-0.73465953; 0.43925773; -0.74880125];
p_in1 = [-0.43175890; 0.28373281; -0.71016695];
p_in1_dot = [0.42905739; 0.33233133; -0.87948742];

what = [0 -w_01in1(3) w_01in1(2); w_01in1(3) 0 -w_01in1(1); -w_01in1(2) w_01in1(1) 0];

mat2str(v_01in0 + R_1in0*what*p_in1 + R_1in0*p_in1_dot)
%}

%% Question 5
%{
theta = -2.53;

R = mat2str([cos(theta) 0 sin(theta); 0 1 0; -sin(theta) 0 cos(theta)])
%}

%% Question 6
%{
format short
A1 = [0.07834758 0.88367187 -0.46150373; -0.42050335 0.44902328 0.78838761; 0.90390187 0.13229560 0.40676687];
A2 = [-0.37996125 -0.57574440 -0.95926124; 0.56752702 0.51805296 -0.60092218; 0.71154471 -0.64359315 0.08394093];
A3 = [0.02177188 -0.03036675 -0.99930168; 0.05023262 0.99830936 -0.02924218; 0.99850021 -0.04956089 0.02326047];
A4 = [1.28151948 0.08568311 0.12704194; -0.17331199 0.14295466 1.01774456; -0.06461646 -1.07221328 0.19621438];
A5 = [0.47391382 0.32303408 -0.81917927; -0.54029912 0.84125478 0.01916399; 0.69532910 0.43351975 0.57321730];

det(A1)
A1*A1'

det(A2)
A2*A2'

det(A3)
A3*A3'

det(A4)
A4*A4'

det(A5)
A5*A5'
%}

%% Question 7
%{
w_01in1 = [-2; -5; 2];
what = [0 -w_01in1(3) w_01in1(2); w_01in1(3) 0 -w_01in1(1); -w_01in1(2) w_01in1(1) 0];

mat2str(what)
%}
%% Question 8
%{
theta1 = -2.27;
theta2 = -1.91;
theta3 = -2.81;

Rx = [1 0 0; 0 cos(theta1) -sin(theta1); 0 sin(theta1) cos(theta1)]
Ry = [cos(theta2) 0 sin(theta2); 0 1 0; -sin(theta2) 0 cos(theta2)]
Rz = [cos(theta3) -sin(theta3) 0; sin(theta3) cos(theta3) 0; 0 0 1]

mat2str(Rx*Ry*Rz)
%}

%% Question 9
%{
R_1in0 = [0.278660744991 0.152458071111 0.948211329691; 0.146868580278 -0.982471116453 0.114804727525; 0.949093151028 0.107270880895 -0.296167433699];

syms c1 c2 c3 s1 s2 s3 real

Ry = [c1 0 s1; 0 1 0; -s1 0 c1]
Rx = [1 0 0; 0 c2 -s2; 0 s2 c2]
Ry1 = [c3 0 s3; 0 1 0; -s3 0 c3]

Ry*Rx*Ry1

R_1in0(1,2)

theta2 = acos(R_1in0(2,2))

theta1 = atan2(0.152458071111,0.107270880895)
theta3 = atan2(0.146868580278, -0.114804727525)

%}

%% Question 10
%{
theta1 = 2.74;
theta2 = 0.53;
theta3 = 2.52;
w_01in1 = [-0.84; -0.38; 0.36];

c1 = cos(theta1)
s1 = sin(theta1)
c2 = cos(theta2)
s2 = sin(theta2)
c3 = cos(theta3)
s3 = sin(theta3)

Ry = [c1 0 s1; 0 1 0; -s1 0 c1]
Rz = [c2 -s2 0; s2 c2 0; 0 0 1]
Rx = [1 0 0; 0 c3 -s3; 0 s3 c3]

R = Ry*Rz*Rx
what = [0 -w_01in1(3) w_01in1(2); w_01in1(3) 0 -w_01in1(1); -w_01in1(2) w_01in1(1) 0];

RR = [Rx'*Rz'*[0;1;0]  Rx'*[0;0;1]  [1; 0; 0]]

inv(RR)*w_01in1
%}